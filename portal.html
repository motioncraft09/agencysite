<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MotionCraft Client Portal</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* --- same CSS as your original portal --- */
:root{--primary:#4A6CF7;--primary-dark:#3A57D4;--primary-light:#6A8BFF;--secondary:#38B2AC;--dark:#2D3748;--darker:#1A202C;--light:#F7FAFC;--lighter:#EDF2F7;--gray:#718096;--danger:#E53E3E;--warning:#DD6B20;--success:#38A169;--info:#3182CE;--gradient-start:#4A6CF7;--gradient-end:#6A8BFF;--card-bg:#FFFFFF;--glass-bg:rgba(255,255,255,0.08);--glass-border:rgba(255,255,255,0.1)}*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}body{background:linear-gradient(135deg,#F7FAFC,#EDF2F7);color:var(--darker);line-height:1.6;min-height:100vh;overflow-x:hidden}.container{max-width:1200px;margin:0 auto;padding:0 20px}header{background:var(--primary);color:white;padding:1.2rem 0;box-shadow:0 4px 12px rgba(74,108,247,0.15);position:sticky;top:0;z-index:100}.header-content{display:flex;justify-content:space-between;align-items:center}.logo{display:flex;align-items:center;gap:12px;font-size:1.6rem;font-weight:700;font-family:'Poppins',sans-serif;color:white;transition:all 0.3s ease}.logo:hover{transform:scale(1.02)}.logo i{font-size:2rem;color:white}.main-content{padding:3rem 0}.welcome-section{background:var(--card-bg);border-radius:16px;padding:2.5rem;margin-bottom:3rem;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center;border:1px solid var(--lighter);transform:translateY(20px);animation:fadeInUp 0.8s ease forwards}.welcome-section h1{font-size:2.5rem;margin-bottom:1rem;color:var(--primary);font-weight:700;font-family:'Poppins',sans-serif}.welcome-section p{color:var(--gray);margin-bottom:1.5rem;font-size:1.1rem;max-width:700px;margin-left:auto;margin-right:auto}.highlight{color:var(--primary);font-weight:600}.search-section{background:var(--card-bg);border-radius:16px;padding:2.5rem;margin-bottom:3rem;box-shadow:0 10px 30px rgba(0,0,0,0.08);text-align:center;border:1px solid var(--lighter);transform:translateY(20px);animation:fadeInUp 1s ease forwards}.search-section h2{font-size:2rem;margin-bottom:1rem;font-weight:600;color:var(--dark)}.search-section p{color:var(--gray);margin-bottom:2rem;font-size:1.1rem}.search-container{display:flex;max-width:600px;margin:0 auto;box-shadow:0 5px 20px rgba(74,108,247,0.15);border-radius:12px;overflow:hidden;transition:all 0.3s ease}.search-container:focus-within{transform:translateY(-3px);box-shadow:0 8px 25px rgba(74,108,247,0.2)}.search-input{flex:1;padding:1rem 1.5rem;border:1px solid var(--lighter);background:var(--light);color:var(--dark);font-size:1.1rem;outline:none}.search-input::placeholder{color:var(--gray);opacity:0.7}.search-btn{background:var(--primary);color:white;border:none;padding:0 2rem;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center}.search-btn:hover{background:var(--primary-dark)}.clients-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:2rem}.client-card{background:var(--card-bg);border-radius:16px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.08);transition:all 0.3s ease;border:1px solid var(--lighter);transform:translateY(20px);opacity:0;animation:fadeInUp 0.8s ease forwards}.client-card:hover{transform:translateY(-10px);box-shadow:0 15px 35px rgba(0,0,0,0.12)}.client-header{padding:1.8rem;border-bottom:1px solid var(--lighter);display:flex;justify-content:space-between;align-items:center;background:var(--light)}.client-name{font-weight:600;font-size:1.4rem;color:var(--dark)}.project-id{color:var(--primary);font-size:0.9rem;font-weight:500;background:rgba(74,108,247,0.1);padding:0.4rem 0.8rem;border-radius:20px}.client-body{padding:1.8rem}.status-list{list-style:none}.status-item{display:flex;align-items:center;padding:1rem 0;border-bottom:1px solid var(--lighter);transition:all 0.3s ease}.status-item:hover{background:var(--light);padding-left:10px;border-radius:8px}.status-item:last-child{border-bottom:none}.status-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;flex-shrink:0;font-size:1.2rem;background:var(--light)}.status-details{flex-grow:1}.status-title{font-weight:500;margin-bottom:4px;color:var(--dark)}.status-value{font-size:0.95rem;color:var(--gray)}.status-badge{padding:0.4rem 0.9rem;border-radius:20px;font-size:0.85rem;font-weight:500}.completed{background-color:rgba(56,161,105,0.15);color:var(--success)}.in-progress{background-color:rgba(49,130,206,0.15);color:var(--info)}.pending{background-color:rgba(221,107,32,0.15);color:var(--warning)}.upcoming{background-color:rgba(113,128,150,0.15);color:var(--gray)}.delivery-section{padding:1.5rem 1.8rem;border-top:1px solid var(--lighter);background:var(--light)}.delivery-title{font-weight:600;margin-bottom:1.2rem;color:var(--dark);font-size:1.2rem}.delivery-links{display:flex;flex-direction:column;gap:1rem}.delivery-link{display:flex;align-items:center;padding:1rem;background:var(--lighter);border-radius:10px;text-decoration:none;color:var(--dark);transition:all 0.3s ease;border:1px solid transparent}.delivery-link:hover{background:rgba(74,108,247,0.1);transform:translateX(5px);border-color:var(--primary-light)}.link-icon{margin-right:1rem;font-size:1.4rem;color:var(--primary)}.link-text{flex:1;font-weight:500}.link-arrow{color:var(--primary);transition:all 0.3s ease}.delivery-link:hover .link-arrow{transform:translateX(5px)}.client-footer{padding:1.5rem 1.8rem;background:var(--light);display:flex;justify-content:flex-end;border-top:1px solid var(--lighter)}.btn-primary{background:var(--primary);color:white;padding:0.8rem 1.5rem;border-radius:10px;font-weight:500;border:none;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:0.5rem}.btn-primary:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:0 5px 15px rgba(74,108,247,0.2)}.revision-section{background:var(--card-bg);border-radius:16px;padding:2.5rem;margin-top:3rem;box-shadow:0 10px 30px rgba(0,0,0,0.08);border:1px solid var(--lighter);transform:translateY(20px);animation:fadeInUp 1.2s ease forwards}.revision-section h2{font-size:1.8rem;margin-bottom:1.5rem;color:var(--dark);text-align:center}.revision-form{display:flex;flex-direction:column;gap:1.5rem}.form-group{display:flex;flex-direction:column;gap:0.5rem}.form-group label{font-weight:500;color:var(--dark)}.form-group textarea{padding:1rem;border:1px solid var(--lighter);border-radius:10px;font-size:1rem;resize:vertical;min-height:150px;transition:all 0.3s ease}.form-group textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(74,108,247,0.1)}.submit-btn{background:var(--success);color:white;padding:1rem;border:none;border-radius:10px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;gap:0.5rem}.submit-btn:hover{background:#2F855A;transform:translateY(-2px);box-shadow:0 5px 15px rgba(56,161,105,0.2)}.hidden{display:none}.error-message{color:var(--danger);margin-top:1.5rem;text-align:center;font-weight:500;padding:1rem;background:rgba(229,62,62,0.1);border-radius:10px;border:1px solid rgba(229,62,62,0.2)}.success-message{color:var(--success);margin-top:1.5rem;text-align:center;font-weight:500;padding:1rem;background:rgba(56,161,105,0.1);border-radius:10px;border:1px solid rgba(56,161,105,0.2)}footer{background:var(--dark);color:white;padding:2.5rem 0;margin-top:5rem}.footer-content{display:flex;justify-content:space-between;align-items:center}.copyright{color:var(--lighter)}.footer-links{display:flex;gap:1.5rem}.footer-links a{color:var(--lighter);text-decoration:none;transition:all 0.3s ease;font-weight:500}.footer-links a:hover{color:var(--primary-light)}@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.pulse{animation:pulse 2s infinite}@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:0.8}100%{transform:scale(1);opacity:1}}@media(max-width:768px){.header-content{flex-direction:column;gap:1rem}.search-container{flex-direction:column}.search-input{border-radius:12px 12px 0 0}.search-btn{border-radius:0 0 12px 12px;padding:1rem}.clients-grid{grid-template-columns:1fr}.footer-content{flex-direction:column;gap:1.5rem;text-align:center}.footer-links{flex-wrap:wrap;justify-content:center}.welcome-section h1{font-size:2rem}}
</style>
</head>
<body>
<header>
<div class="container"><div class="header-content"><div class="logo"><i class="fas fa-film"></i><span>MotionCraft</span></div></div></div>
</header>

<main class="main-content container">
<div class="welcome-section">
<h1>Welcome to <span class="highlight">Client Portal</span></h1>
<p>Check all your project statuses, delivery links, and updates in one place.</p>
</div>

<div class="search-section">
<h2>Search Your Project</h2>
<p>Enter your client code below to view project details:</p>
<div class="search-container">
<input type="text" class="search-input" placeholder="Enter Client Code" id="clientCodeInput">
<button class="search-btn" onclick="searchClient()"><i class="fas fa-search"></i> Search</button>
</div>
</div>

<div class="clients-grid" id="clientsGrid">
<!-- Client Cards will be injected here -->
</div>
</main>

<script>
// --- SheetDB API URL (replace with your own) ---
const SHEETDB_API_URL = "https://sheetdb.io/api/v1/1kpvlloczjkj7";

// --- Status badge color mapping ---
const statusClassMap = {
"Completed":"completed",
"In Progress":"in-progress",
"Pending":"pending",
"Upcoming":"upcoming"
};

// --- Fetch clients from SheetDB ---
let clientsData = [];
async function fetchClients(){
try{
const res = await fetch(SHEETDB_API_URL);
clientsData = await res.json();
renderClients(clientsData);
}catch(err){
console.error("Error fetching SheetDB data:",err);
document.getElementById("clientsGrid").innerHTML = `<div class="error-message">Failed to load client data. Try again later.</div>`;
}
}

// --- Render clients ---
function renderClients(clients){
const grid = document.getElementById("clientsGrid");
grid.innerHTML = "";
clients.forEach(client=>{
const statuses = [];
for(let i=1;i<=5;i++){
if(client[`status${i}Title`]){
statuses.push(`<li class="status-item">
<div class="status-icon"><i class="fas fa-circle"></i></div>
<div class="status-details">
<div class="status-title">${client[`status${i}Title`]}</div>
<div class="status-value">${client[`status${i}Value`]||""}</div>
</div>
<div class="status-badge ${statusClassMap[client[`status${i}Status`]]||""}">${client[`status${i}Status`]||""}</div>
</li>`);
}
}
const deliveryLinks = [];
for(let i=1;i<=3;i++){
if(client[`deliveryLink${i}Text`] && client[`deliveryLink${i}Url`]){
deliveryLinks.push(`<a href="${client[`deliveryLink${i}Url`]}" target="_blank" class="delivery-link">
<i class="fas fa-link link-icon"></i>
<span class="link-text">${client[`deliveryLink${i}Text`]}</span>
<i class="fas fa-arrow-right link-arrow"></i>
</a>`);
}
}
grid.innerHTML += `<div class="client-card">
<div class="client-header">
<div class="client-name">${client.projectName||"Project Name"}</div>
<div class="project-id">${client.clientCode||"CODE"}</div>
</div>
<div class="client-body">
<ul class="status-list">
${statuses.join("")}
</ul>
<div class="delivery-section">
<div class="delivery-title">Delivery Links</div>
<div class="delivery-links">
${deliveryLinks.join("")||"<p>No links available yet.</p>"}
</div>
</div>
</div>
</div>`;
});
}

// --- Search client ---
function searchClient(){
const code = document.getElementById("clientCodeInput").value.trim();
if(!code) return alert("Please enter a client code.");
const filtered = clientsData.filter(c=>c.clientCode.toLowerCase()===code.toLowerCase());
renderClients(filtered);
}

// --- Initial fetch ---
fetchClients();
</script>
</body>
</html>
